(function(){var e,t,i,a;i=function(){var e,t,i,a,n,r,c,d,w,l,o;return i=$("#widget-camera").val(),w=$("#widget-refresh-rate").val(),o=$("#widget-camera-width").val(),r=$("#width-option").val(),c=$("#widget-authenticate").val(),l=window.location.origin,a=$("#widget-camera option:selected").text(),n=-1!==a.indexOf("(Offline)"),d=-1===a.indexOf("(Private)")?"false":"true",e="true"===c?"&api_id="+window.api_credentials.api_id+"&api_key="+window.api_credentials.api_key:"",t="<div id='ec-container-"+i+"' style='width: "+o+r+"'></div> <script src='"+l+"/live.view.widget.js?refresh="+w+"&camera="+i+"&private="+d+e+"' async></script>",$("#code").text(t),document.removeEventListener("visibilitychange",window.ec_vis_handler,!1),null!=window.ec_watcher&&clearTimeout(window.ec_watcher),n||$(".preview").html(t),!0},a=function(){var e,t,i,a,n,r,c,d,w,l;return i=$("#widget-camera").val(),d=$("#widget-refresh-rate").val(),l=$("#widget-camera-width").val(),n=$("#width-option").val(),r=$("#widget-authenticate").val(),w=window.location.origin,a=$("#widget-camera option:selected").text(),-1!==a.indexOf("(Offline)"),c=-1===a.indexOf("(Private)")?"false":"true",e="true"===r?"&api_id="+window.api_credentials.api_id+"&api_key="+window.api_credentials.api_key:"",t="<div id='ec-container-"+i+"' style='width: "+l+n+"'><div> <script src='"+w+"/live.view.widget.js?refresh="+d+"&camera="+i+"&private="+c+e+"' async></script>",$("#code").text(t),$("#ec-container-"+i).width(""+l+n)},t=function(){return $("#widget-camera").select2({templateSelection:e,templateResult:e,escapeMarkup:function(e){return e}}),$(".widget-input .select2-container--default").width("100%")},e=function(e){return"",e.id?"0"===e.id?e.text:$("<span><img style='height:30px;margin-bottom:1px;margin-top:1px;width:35px;' src='"+e.element.attributes[2].value+"' class='img-flag' />&nbsp;"+e.text+"</span>"):e.text},$(function(){return t(),i(),$("#widget-camera-width").change(a),$("#width-option").change(a),$("#widget-refresh-rate").change(i),$("#widget-camera").change(i),$("#widget-authenticate").change(a),$("#code").on("click",function(){this.select()})})}).call(this);